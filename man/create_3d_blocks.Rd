% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial_fdr.R
\name{create_3d_blocks}
\alias{create_3d_blocks}
\title{Create 3D Blocks for Voxelwise Analysis}
\usage{
create_3d_blocks(mask, block_size = c(10, 10, 10), connectivity = 26)
}
\arguments{
\item{mask}{Numeric 3D array or NeuroVol object defining the brain mask.
Non-zero values indicate voxels to include.}

\item{block_size}{Integer vector of length 3 specifying block dimensions
in voxels (default: c(10, 10, 10))}

\item{connectivity}{Integer scalar; type of connectivity for neighbors:
6 (face connectivity) or 26 (face, edge, and corner connectivity). Default: 26}
}
\value{
List with components:
\item{group_id}{Integer vector of group IDs for each voxel in the mask}
\item{neighbors}{List of length n_groups where element i contains
integer vector of 1-based neighbor IDs for group i}
\item{n_groups}{Integer scalar; total number of groups created}
\item{block_size}{Block size used}
}
\description{
Creates spatial blocks from a 3D mask for use with spatial_fdr.
This is useful for voxelwise analyses where you want to group
nearby voxels together for more powerful multiple comparisons correction.
}
\examples{
mask <- array(c(1L, 1L, 0L,
                1L, 1L, 0L,
                0L, 0L, 0L), dim = c(3, 3, 1))
blocks <- create_3d_blocks(mask, block_size = c(2, 2, 1))
blocks$n_groups

}
