% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fmridsl_builder.R
\name{build_event_model_from_spec}
\alias{build_event_model_from_spec}
\title{Build Event Model from Specification}
\usage{
build_event_model_from_spec(spec, events_data, sampling_frame)
}
\arguments{
\item{spec}{A list containing the model specification, including 'hrfs' and 'regressors' definitions.}

\item{events_data}{A data frame containing event information, including onsets, durations, and any variables referenced in the regressors.}

\item{sampling_frame}{A data frame defining the time points at which to sample the convolved signals. Should contain a 'time' column.}
}
\value{
An \code{event_model} object containing the design matrix, sampling frame, and terms.
}
\description{
This function builds an entire event model from the given specification, events data, and sampling frame.
}
\examples{
# Define the specification
spec <- list(
  hrfs = list(
    canonical = list(type = "HRF_SPMG1"),
    gamma_hrf = list(
      type = "HRF_GAMMA",
      parameters = list(shape = 6, rate = 1)
    )
  ),
  regressors = list(
    main_effect = list(
      type = "hrf",
      variables = c("stim"),
      hrf = "canonical"
    ),
    rt_effect = list(
      type = "hrf_parametric",
      variables = c("RT"),
      hrf = "gamma_hrf"
    )
  )
)

# Events data
events_data <- data.frame(
  onset = c(0, 10, 20),
  duration = c(1, 1, 1),
  stim = c('A', 'B', 'A'),
  RT = c(0.5, 0.6, 0.55)
)

# Sampling frame
sampling_frame <- data.frame(time = seq(0, 30, by = 1))

# Build the event model
event_model_obj <- build_event_model_from_spec(spec, events_data, sampling_frame)

# View the design matrix
head(event_model_obj$design_matrix)

}
