% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/volume_quality.R
\name{dvars_to_weights}
\alias{dvars_to_weights}
\title{Convert DVARS to Volume Weights}
\usage{
dvars_to_weights(
  dvars,
  method = c("inverse_squared", "soft_threshold", "tukey"),
  threshold = 1.5,
  steepness = 2
)
}
\arguments{
\item{dvars}{Numeric vector of DVARS values (from \code{compute_dvars}).}

\item{method}{Character. Weighting method: "inverse_squared" (default),
"soft_threshold", or "tukey".}

\item{threshold}{Numeric. For "soft_threshold", the DVARS value above which
weights decay. Default 1.5 (1.5x median if normalized).}

\item{steepness}{Numeric. For "soft_threshold", controls decay rate. Default 2.}
}
\value{
Numeric vector of weights in the interval from 0 to 1, same length as dvars.
}
\description{
Transforms DVARS quality metrics into weights for weighted least squares
fitting. Volumes with high DVARS receive lower weights, implementing
"soft scrubbing" without hard censoring thresholds.
}
\examples{
set.seed(123)
Y <- matrix(rnorm(100 * 50), nrow = 100, ncol = 50)
Y[50, ] <- Y[50, ] + 5
dvars <- compute_dvars(Y)

# Compare different weighting methods
w_inv <- dvars_to_weights(dvars, method = "inverse_squared")
w_soft <- dvars_to_weights(dvars, method = "soft_threshold")
w_tukey <- dvars_to_weights(dvars, method = "tukey")

# Check weight at the artifact volume
cat("Weights at volume 50:\n")
cat("  inverse_squared:", round(w_inv[50], 3), "\n")
cat("  soft_threshold:", round(w_soft[50], 3), "\n")
cat("  tukey:", round(w_tukey[50], 3), "\n")
}
