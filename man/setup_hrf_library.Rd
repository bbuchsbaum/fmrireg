% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/find_hrf.R
\name{setup_hrf_library}
\alias{setup_hrf_library}
\title{Setup an HRF Library}
\usage{
setup_hrf_library(hrflib = NULL, rsam = seq(0, 24, by = 1), ncomp = 5)
}
\arguments{
\item{hrflib}{An optional function that, when given a vector of times, returns
a matrix of candidate HRFs as columns. If \code{NULL}, a built-in set of
half-cosine parameter combinations is used.}

\item{rsam}{A numeric vector of time points at which HRFs are sampled (default: seq(0,24,1))}

\item{ncomp}{Number of principal components to keep (default 5)}
}
\value{
A list with elements:
\item{L}{A matrix of HRFs (columns) from the full library}
\item{Lk}{A matrix of dimension \code{nrow(L) x ncomp} (the first ncomp PCs)}
\item{basis_set}{A list of HRF functions (one for each PC) created by \code{gen_empirical_hrf}}
}
\description{
This function builds or loads a pre-defined "library" of candidate HRFs, then
performs a PCA/truncation to yield a basis set. For instance, if no \code{hrflib}
is provided, it uses a range of parameters (h1, h2, h3, h4, f1, f2) to generate
half-cosine-based HRFs via \code{hrf_half_cosine}, calls \code{gen_hrf_library},
then does a PCA.
}
\keyword{internal}
