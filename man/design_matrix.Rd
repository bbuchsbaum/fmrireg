% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/all_generic.R, R/event_model.R, R/fmri_model.R
\name{design_matrix}
\alias{design_matrix}
\alias{design_matrix.convolved_term}
\alias{design_matrix.event_model}
\alias{design_matrix.fmri_model}
\alias{design_matrix.afni_hrf_convolved_term}
\title{design_matrix}
\usage{
design_matrix(x, ...)

\method{design_matrix}{convolved_term}(x, blockid = NULL, ...)

\method{design_matrix}{event_model}(x, blockid = NULL, ...)

\method{design_matrix}{fmri_model}(x, blockid = NULL, ...)

\method{design_matrix}{afni_hrf_convolved_term}(x, blockid = NULL, ...)
}
\arguments{
\item{x}{The term or model object (typically an event_term, event_model, baseline_model, or fmri_model)}

\item{...}{Additional arguments passed to methods. Common arguments include:
\itemize{
\item{blockid}{Numeric vector specifying which blocks/runs to include}
}}

\item{blockid}{the block id to extract}
}
\value{
A tibble containing the design matrix, where:
\itemize{
\item Rows represent time points (scans)
\item Columns represent predictor variables
\item Column names indicate the condition or regressor (see Details)
}
}
\description{
Extract or construct the design matrix from a model term or object. The design matrix
contains the predictor variables used in the model, with one row per time point and
one column per predictor. For event-related designs, the design matrix typically
contains the convolved HRF responses. For baseline terms, it contains drift and
nuisance regressors.
}
\details{
\subsection{Column Naming (Post-Refactor)}{

As of version X.Y.Z, column names in the final design matrix generated by
\code{event_model} follow the structure:
\code{term_tag} + \verb{_} + \code{condition_tag} + \verb{_b##} basis suffix

Refer to \code{event_model} documentation for details on \code{term_tag} and \code{condition_tag} generation.
The \code{design_matrix} methods for individual term types (like \code{design_matrix.event_term})
return unconvolved predictors whose names may \emph{not} yet follow this final structure.
The final naming is applied by \code{convolve.event_term} and assembled by
\code{build_event_model_design_matrix}.
}
}
\seealso{
\code{\link[=event_model]{event_model()}}, \code{\link[=baseline_model]{baseline_model()}}, \code{\link[=fmri_model]{fmri_model()}}
}
\concept{design_matrices}
